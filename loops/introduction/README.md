# Цикли

## Защо?
В живота има неща, които са от рутинно естество

 - почистване на пода - Минаваме с четката от началото на едно помещение до края му
 - пране на ръка - Намокряме, търкаме, изплакваме и изцеждаме
 - готвене - Подготвяме продуктите, овкусяваме и варим / печем / пържим.

С напредването на технологиите се появяват решения, които отнемат тези рутини от нас, с цел улеснение.
 - Робот прахосмукачка
 - Пералня
 - Мултикукър

В програмните езици, циклите имат за цел точно това, да отнемат рутината, като ние трябва да я опишем.
Например, за да изведем числата от 1 до 3, можем и без цикъл

``` c#
    Console.WriteLine(1);
    Console.WriteLine(2);
    Console.WriteLine(3);
```

Но какво ще стане ако трябва да извадим числата от 1 до 100?

``` c#
    Console.WriteLine(1);
    Console.WriteLine(2);
    Console.WriteLine(3);
    ...
    Console.WriteLine(99);
    Console.WriteLine(100);
```

Ще успеем да ги изпишем, но ще се изтъркаме от писане.
Защо да е трудно, щом може да е лесно.

Използвайки цикъл, просто задаваме действието:

``` c#
    for (int i = 1; i <= 100; i++)
    {
        Console.WriteLine(i);
    }
```

## Какво е цикъл
Конструкция, която ни позволява да изпълняваме откъс код многократно.

### Елементи
1. Условие - дефинира края
2. Тяло - самият код, който се изпълнява. Едно изпълнение на тялото на цикъла наричаме итерация.

## Видове цикли

1. while
2. for
  1. foreach
3. do - while

### while
Това е програмният еквивалент на изречения като "Докато <Условие> прави <нещо>.".
Както можем да видим и в самото изречение първо се проверява истинността на условието и след това се изпълнява тялото на цикъла.

``` c#
    // Цикъл, който чака потребителя да въведе 5
    bool isSearching = true;
    while (isSearching)
    {
        int number = int.Parse(Console.Readline());
        if (number == 5)
            isSearching = false;
    }
```

### for
Ако трябва да го сравним с изречение от говорими езици, то типът изречения е "За всеки <X>, през <Y>, прави <нещо>, докато <Условие>.".
Този цикъл е разновидност на while. Защо са ни 2 цикъла, които на практика вършат едно и също? Това, което носи for е синтактично облекчение.
В този ред на мисли положителния принос на for е, че олеснява постъпковото преминаване през някаква колекция или поредица.

``` c#
    // Програма, която изкарва числата от 0 до 9
    for (int i = 0; i < 10; ++i)
    {
        Console.WriteLine(i);
    }
```

След като for е разновидност на while, тогава можем ли да напишем цикъла по-горе като while?

``` c#
    int i = 0;
    while (i < 10)
    {
        Console.WriteLine(i);
        i++;
    }
```

Разликата между тези 2 цикъла е, че при for променливата i е локална за обсега на самия цикъл, а при while - не.

#### foreach

Предстои ...

### do - while
Можем да мислим за него като обърнат while. За while казахме, че го превеждаме на човешки език като изречение от тип "Докато <Условие> прави <нещо>.". Тогава do - while следва да бъде "Прави <нещо> Докато <Условие>".
Разликата на този с другите видове цикли е, че тялото му се изпълнява поне веднъж.

``` c#
    // Илюстрира свойството на do-while да изпълни тялото си поне 1 път.
    int i = 0;
    do {
        Console.WriteLine(i);
        i++;
    } while (i > 1);
```

## Контрол
Не винаги искаме да позволим цикъла да се изпълни до край, а понякога дори искаме да имаме безкраен цикъл, който да прекъснем. В някои случаи искаме да прекъснем само текущата итерация.

### Безкраен цикъл
Цикъл, чийто условие за край никога няма да се изпълни.

Примери:

``` c#
    // Умишлени безкрайни цикли:
    bool isRunning = true;
    while (isRunning)
    {
        ...
    }

    for (;;)
    {
        ...
    }

    // Грешка в логиката:
    for (int i = 0; i < 10; i--)
    {
        ...
    }
```

### break

Спира изпълнението на тялото на цикъла.

Събиране на числа, докато сумата не стане 50.
``` c#
    int sum = 0;
    for (int i = 0; i < 100; i++)
    {
        sum += i;
        if (sum >= 50)
            break;
    }

    Console.WriteLine("That's all folks!");
```

### continue

Има случаи, в които искаме да прекъснем само текущата итерация, защото знаем, че откъса от код след даден момент не трябва да се изпълнява.

Сбор на четни числа ако са по-големи от 10.
``` c#
    int sum = 0;
    for (int i = 0; i < 100; i++)
    {
        if (i <= 10)
            continue;

        if ((i % 2) == 0)
            sum += i;
    }

    Console.WriteLine("That's all folks!");
```
